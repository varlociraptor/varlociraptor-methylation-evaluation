def download_partial_bam(download_link, output_file, num_lines=10000):
    # Download the BAM file using the provided link
    response = requests.get(download_link, stream=True)

    # Check if the request was successful (status code 200)
    if response.status_code == 200:
        # Write the first num_lines lines to the output file
        with open(output_file, 'wb') as file:
            for line_num, line in enumerate(response.iter_lines()):
                file.write(line + b'\n')
                if line_num + 1 == num_lines:
                    break

        print(f"Downloaded and saved the first {num_lines} lines to {output_file}")
    else:
        print(f"Error downloading the file. Status code: {response.status_code}")

# Replace '<DOWNLOAD_LINK>' and 'output.bam' with your actual download link and desired output file name

url = snakemake.params.url
output_path = snakemake.output.alignment
download_partial_bam(download_link, output_path)